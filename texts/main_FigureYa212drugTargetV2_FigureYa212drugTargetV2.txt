# Academic Citation
# 需求描述
# 应用场景
# 环境设置
# 输入文件
# 1.读取肝癌TPM表达谱
# 2.读取maf突变文件(于cBioPortal下载)
# 提取既有表达数据又有突变数据的肿瘤样本
# 3.提取TP53突变信息，并创建样本注释
# 取出有TP53突变的患者

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
source("install_dependencies.R")
source("predict_from_cgp.R") # 出自pRRophetic，用于药敏预测
library(tidyverse) # 用于读取MAF文件
library(ISOpureR) # 用于纯化表达谱
library(impute) # 用于KNN填补药敏数据
library(SimDesign) # 用于禁止药敏预测过程输出的信息
library(ggplot2) # 绘图
library(cowplot) # 合并图像

Sys.setenv(LANGUAGE = "en") #显示英文报错信息
options(stringsAsFactors = FALSE) #禁止chr转成factor
```

```{r}
display.progress = function (index, totalN, breakN=20) {
  if ( index %% ceiling(totalN/breakN)  ==0  ) {
    cat(paste(round(index*100/totalN), "% ", sep=""))
  }
}  
```